{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://gem-puzzle/./src/const.js","webpack://gem-puzzle/./src/utils/render.js","webpack://gem-puzzle/./src/view/abstract-view.js","webpack://gem-puzzle/./src/view/header-view.js","webpack://gem-puzzle/./src/view/new-game-btn-view.js","webpack://gem-puzzle/./src/view/size-selector-view.js","webpack://gem-puzzle/./src/view/save-btn-view.js","webpack://gem-puzzle/./src/view/load-btn-view.js","webpack://gem-puzzle/./src/view/result-btn-view.js","webpack://gem-puzzle/./src/view/sound-btn-view.js","webpack://gem-puzzle/./src/view/moves-counter-view.js","webpack://gem-puzzle/./src/utils/common.js","webpack://gem-puzzle/./src/view/timer-view.js","webpack://gem-puzzle/./src/presenter/header-presenter.js","webpack://gem-puzzle/./src/view/popup-view.js","webpack://gem-puzzle/./src/view/win-message-view.js","webpack://gem-puzzle/./src/view/results-view.js","webpack://gem-puzzle/./src/presenter/popup-presenter.js","webpack://gem-puzzle/./src/view/board-view.js","webpack://gem-puzzle/./src/view/board-cell-view.js","webpack://gem-puzzle/./src/view/board-tile-view.js","webpack://gem-puzzle/./src/view/sound-view.js","webpack://gem-puzzle/./src/utils/game.js","webpack://gem-puzzle/./src/presenter/game-presenter.js","webpack://gem-puzzle/./src/model/abstract-observable.js","webpack://gem-puzzle/./src/model/board-size-model.js","webpack://gem-puzzle/./src/model/moves-counter-model.js","webpack://gem-puzzle/./src/model/timer-model.js","webpack://gem-puzzle/./src/model/sound-model.js","webpack://gem-puzzle/./src/index.js"],"sourcesContent":["export const RenderPosition = {\r\n  BEFOREBEGIN: 'beforebegin',\r\n  AFTERBEGIN: 'afterbegin',\r\n  BEFOREEND: 'beforeend',\r\n  AFTEREND: 'afterend',\r\n};\r\n\r\nexport const SAVE_KEY = 'rz0r-save';\r\n\r\nexport const RESULTS_KEY = 'rz0r-results';\r\n","import { RenderPosition } from '../const.js';\r\nimport AbstractView from '../view/abstract-view.js';\r\n\r\nexport const render = (\r\n  container,\r\n  element,\r\n  place = RenderPosition.BEFOREEND\r\n) => {\r\n  const parent =\r\n    container instanceof AbstractView ? container.element : container;\r\n  const child = element instanceof AbstractView ? element.element : element;\r\n\r\n  switch (place) {\r\n    case RenderPosition.BEFOREBEGIN:\r\n      parent.before(child);\r\n      break;\r\n    case RenderPosition.AFTERBEGIN:\r\n      parent.prepend(child);\r\n      break;\r\n    case RenderPosition.BEFOREEND:\r\n      parent.append(child);\r\n      break;\r\n    case RenderPosition.AFTEREND:\r\n      parent.after(child);\r\n      break;\r\n  }\r\n};\r\n\r\nexport const replace = (newElement, oldElement) => {\r\n  if (newElement === null || oldElement === null) {\r\n    throw new Error(\"Can't replace unexisting elements\");\r\n  }\r\n\r\n  const newChild =\r\n    newElement instanceof AbstractView ? newElement.element : newElement;\r\n  const oldChild =\r\n    oldElement instanceof AbstractView ? oldElement.element : oldElement;\r\n\r\n  const parent = oldChild.parentElement;\r\n\r\n  if (parent === null) {\r\n    throw new Error(\"Parent element doesn't exist\");\r\n  }\r\n\r\n  parent.replaceChild(newChild, oldChild);\r\n};\r\n\r\nexport const createElement = (template) => {\r\n  const newElement = document.createElement('div');\r\n  newElement.innerHTML = template;\r\n  return newElement.firstElementChild;\r\n};\r\n\r\nexport const remove = (component) => {\r\n  if (component === null) {\r\n    return;\r\n  }\r\n\r\n  if (!(component instanceof AbstractView)) {\r\n    throw new Error('Can remove only components');\r\n  }\r\n\r\n  component.element.remove();\r\n  component.removeElement();\r\n};\r\n","import { createElement } from '../utils/render.js';\r\n\r\nclass AbstractView {\r\n  #element = null;\r\n  _callback = {};\r\n\r\n  constructor() {\r\n    if (new.target === AbstractView) {\r\n      throw new Error(\"Can't instantiate AbstractView, only concrete one.\");\r\n    }\r\n  }\r\n\r\n  get element() {\r\n    if (!this.#element) {\r\n      this.#element = createElement(this.template);\r\n    }\r\n\r\n    return this.#element;\r\n  }\r\n\r\n  get template() {\r\n    throw new Error('Abstract method not implemented: get template');\r\n  }\r\n\r\n  removeElement() {\r\n    this.#element = null;\r\n  }\r\n}\r\n\r\nexport default AbstractView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createHeaderTemplate = () =>\r\n  `<header class=\"header\">\r\n\t\t<div class=\"header__top\"></div>\r\n\t\t<div class=\"header__bottom\"></div>\r\n\t</header>`;\r\n\r\nclass HeaderView extends AbstractView {\r\n  get template() {\r\n    return createHeaderTemplate();\r\n  }\r\n\r\n  getHeaderTopElement = () => {\r\n    return this.element.querySelector('.header__top');\r\n  };\r\n\r\n  getHeaderBottomElement = () => {\r\n    return this.element.querySelector('.header__bottom');\r\n  };\r\n}\r\n\r\nexport default HeaderView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createNewGameTemplate = () =>\r\n  `<button class=\"header__new-game-btn btn\">New Game</button>`;\r\n\r\nclass NewGameBtnView extends AbstractView {\r\n  get template() {\r\n    return createNewGameTemplate();\r\n  }\r\n\r\n  setNewGameBtnClickHandler = (callback) => {\r\n    this._callback.btnClick = callback;\r\n    this.element.addEventListener('click', this.#btnClick);\r\n  };\r\n\r\n  #btnClick = (evt) => {\r\n    this._callback.btnClick(evt);\r\n  };\r\n}\r\n\r\nexport default NewGameBtnView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createSizeSelectorTemplate = () =>\r\n  `<select class=\"header__size size\">\r\n\t\t<option value=\"3\">3x3</option>\r\n\t\t<option value=\"4\">4x4</option>\r\n\t\t<option value=\"5\">5x5</option>\r\n\t\t<option value=\"6\">6x6</option>\r\n\t\t<option value=\"7\">7x7</option>\r\n\t\t<option value=\"8\">8x8</option>\r\n\t</select>`;\r\n\r\nclass SizeSelectorView extends AbstractView {\r\n  constructor(value) {\r\n    super();\r\n    this.setSelectorValue(value);\r\n  }\r\n\r\n  get template() {\r\n    return createSizeSelectorTemplate();\r\n  }\r\n\r\n  setSelectorValue = (value) => {\r\n    this.element.value = value;\r\n  };\r\n\r\n  setSelectorChangeHandler = (callback) => {\r\n    this._callback.selectorChange = callback;\r\n    this.element.addEventListener('change', this.#selectorChangeHandler);\r\n  };\r\n\r\n  #selectorChangeHandler = (evt) => {\r\n    const value = evt.currentTarget.value;\r\n    this._callback.selectorChange(value);\r\n  };\r\n}\r\n\r\nexport default SizeSelectorView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createSaveBtnTemplate = () =>\r\n  `<button class=\"header__save-btn btn\">Save</button>`;\r\n\r\nclass SaveBtnView extends AbstractView {\r\n  get template() {\r\n    return createSaveBtnTemplate();\r\n  }\r\n\r\n  setSaveBtnClickHandler = (callback) => {\r\n    this._callback.btnClick = callback;\r\n    this.element.addEventListener('click', this.#btnClick);\r\n  };\r\n\r\n  #btnClick = (evt) => {\r\n    this._callback.btnClick(evt);\r\n  };\r\n}\r\n\r\nexport default SaveBtnView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createLoadBtnTemplate = () =>\r\n  `<button class=\"header__load-btn btn\">Load</button>`;\r\n\r\nclass LoadBtnView extends AbstractView {\r\n  get template() {\r\n    return createLoadBtnTemplate();\r\n  }\r\n\r\n  setLoadBtnClickHandler = (callback) => {\r\n    this._callback.btnClick = callback;\r\n    this.element.addEventListener('click', this.#btnClick);\r\n  };\r\n\r\n  #btnClick = (evt) => {\r\n    this._callback.btnClick(evt);\r\n  };\r\n}\r\n\r\nexport default LoadBtnView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createResultBtnTemplate = () =>\r\n  `<button class=\"header__result-btn btn\">Results</button>`;\r\n\r\nclass ResultBtnView extends AbstractView {\r\n  get template() {\r\n    return createResultBtnTemplate();\r\n  }\r\n\r\n  setResultBtnClickHandler = (callback) => {\r\n    this._callback.btnClick = callback;\r\n    this.element.addEventListener('click', this.#btnClick);\r\n  };\r\n\r\n  #btnClick = (evt) => {\r\n    this._callback.btnClick(evt);\r\n  };\r\n}\r\n\r\nexport default ResultBtnView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createVolumeIconTemplate = () =>\r\n  `<svg height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\">\r\n\t\t<defs>\r\n\t\t\t<clipPath>\r\n\t\t\t\t<path d=\"m 14.35,-0.14 -5.86,5.86 20.73,20.78 5.86,-5.91 z\"></path>\r\n\t\t\t\t<path d=\"M 7.07,6.87 -1.11,15.33 19.61,36.11 27.80,27.60 z\"></path>\r\n\t\t\t\t<path d=\"M 9.09,5.20 6.47,7.88 26.82,28.77 29.66,25.99 z\" transform=\"translate(0, 0)\"></path>\r\n\t\t\t</clipPath>\r\n\t\t\t<clipPath>\r\n\t\t\t\t<path d=\"m -11.45,-15.55 -4.44,4.51 20.45,20.94 4.55,-4.66 z\" transform=\"translate(0, 0)\"></path>\r\n\t\t\t</clipPath>\r\n\t\t</defs>\r\n\t\t<path\r\n\t\t\td=\"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z\">\r\n\t\t</path>\r\n\t</svg>`;\r\n\r\nconst createVolumeMuteIconTemplate = () =>\r\n  `<svg height=\"100%\" version=\"1.1\" viewBox=\"0 0 36 36\" width=\"100%\">\r\n\t\t<path\r\n\t\t\td=\"m 21.48,17.98 c 0,-1.77 -1.02,-3.29 -2.5,-4.03 v 2.21 l 2.45,2.45 c .03,-0.2 .05,-0.41 .05,-0.63 z m 2.5,0 c 0,.94 -0.2,1.82 -0.54,2.64 l 1.51,1.51 c .66,-1.24 1.03,-2.65 1.03,-4.15 0,-4.28 -2.99,-7.86 -7,-8.76 v 2.05 c 2.89,.86 5,3.54 5,6.71 z M 9.25,8.98 l -1.27,1.26 4.72,4.73 H 7.98 v 6 H 11.98 l 5,5 v -6.73 l 4.25,4.25 c -0.67,.52 -1.42,.93 -2.25,1.18 v 2.06 c 1.38,-0.31 2.63,-0.95 3.69,-1.81 l 2.04,2.05 1.27,-1.27 -9,-9 -7.72,-7.72 z m 7.72,.99 -2.09,2.08 2.09,2.09 V 9.98 z\">\r\n\t\t</path>\r\n\t</svg>`;\r\n\r\nconst createSoundBtnTemplate = (isSoundEnabled) =>\r\n  `<button class=\"header__sound-btn btn\">\r\n\t\t${isSoundEnabled ? createVolumeIconTemplate() : createVolumeMuteIconTemplate()}\r\n\t</button>`;\r\n\r\nclass SoundBtnView extends AbstractView {\r\n  #isSoundEnabled = false;\r\n\r\n  constructor(isSoundEnabled) {\r\n    super();\r\n    this.#isSoundEnabled = isSoundEnabled;\r\n  }\r\n\r\n  get template() {\r\n    return createSoundBtnTemplate(this.#isSoundEnabled);\r\n  }\r\n\r\n  setSoundClickHandler = (callback) => {\r\n    this._callback.btnClick = callback;\r\n    this.element.addEventListener('click', this.#btnClick);\r\n  };\r\n\r\n  #btnClick = (evt) => {\r\n    this._callback.btnClick(evt);\r\n  };\r\n}\r\n\r\nexport default SoundBtnView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createMoveCounterTemplate = (value) =>\r\n  `<div class=\"header__moves moves\">\r\n    <div class=\"moves__title\">Moves:</div>\r\n    <div class=\"moves__count\">${value}</div>\r\n  </div>`;\r\n\r\nclass MoveCounterView extends AbstractView {\r\n  #value = 0;\r\n\r\n  constructor(value) {\r\n    super();\r\n    this.#value = value;\r\n  }\r\n\r\n  get template() {\r\n    return createMoveCounterTemplate(this.#value);\r\n  }\r\n}\r\n\r\nexport default MoveCounterView;\r\n","export const compareObj = (obj1, obj2) => {\r\n  const keys1 = Object.keys(obj1);\r\n  const keys2 = Object.keys(obj2);\r\n\r\n  if (keys1.length !== keys2.length) return false;\r\n\r\n  for (const key of keys1) {\r\n    if (obj1[key] !== obj2[key]) return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nexport const formatTime = (number) => {\r\n  const minutes = Math.floor((number / 60) % 60)\r\n    .toString()\r\n    .padStart(2, 0);\r\n\r\n  const seconds = Math.floor(number % 60)\r\n    .toString()\r\n    .padStart(2, 0);\r\n\r\n  return `${minutes}:${seconds}`;\r\n};\r\n","import AbstractView from './abstract-view.js';\r\nimport { formatTime } from '../utils/common.js';\r\n\r\nconst createTimerTemplate = (value) =>\r\n  `<div class=\"header__time time\">\r\n\t\t<div class=\"time__title\">Time:</div>\r\n\t\t<div class=\"time__value\">${formatTime(value)}</div>\r\n\t</div>`;\r\n\r\nclass TimerView extends AbstractView {\r\n  #value = 0;\r\n\r\n  constructor(value) {\r\n    super();\r\n    this.#value = value;\r\n  }\r\n\r\n  get template() {\r\n    return createTimerTemplate(this.#value);\r\n  }\r\n}\r\n\r\nexport default TimerView;\r\n","import HeaderView from '../view/header-view.js';\r\nimport NewGameBtnView from '../view/new-game-btn-view.js';\r\nimport SizeSelectorView from '../view/size-selector-view.js';\r\nimport SaveBtnView from '../view/save-btn-view.js';\r\nimport LoadBtnView from '../view/load-btn-view.js';\r\nimport ResultBtnView from '../view/result-btn-view.js';\r\nimport SoundBtnView from '../view/sound-btn-view.js';\r\nimport MoveCounterView from '../view/moves-counter-view.js';\r\nimport TimerView from '../view/timer-view.js';\r\nimport { remove, render, replace } from '../utils/render.js';\r\nimport { RenderPosition } from '../const.js';\r\n\r\nclass HeaderPresenter {\r\n  #headerContainer = null;\r\n  #boardSizeModel = null;\r\n  #movesCounterModel = null;\r\n  #timerModel = null;\r\n  #soundModel = null;\r\n  #headerComponent = null;\r\n  #newGameBtnComponent = null;\r\n  #sizeSelectorComponent = null;\r\n  #saveBtnComponent = null;\r\n  #loadBtnComponent = null;\r\n  #resultBtnComponent = null;\r\n  #soundBtnComponent = null;\r\n  #movesCounterComponent = null;\r\n  #timerComponent = null;\r\n\r\n  #newGameHandler = null;\r\n  #saveGameHandler = null;\r\n  #loadGameHandler = null;\r\n  #showResultsHandler = null;\r\n\r\n  constructor(\r\n    headerContainer,\r\n    boardSizeModel,\r\n    movesCounterModel,\r\n    timerModel,\r\n    soundModel,\r\n    newGameHandler,\r\n    saveGameHandler,\r\n    loadGameHandler,\r\n    showResultsHandler\r\n  ) {\r\n    this.#headerContainer = headerContainer;\r\n    this.#boardSizeModel = boardSizeModel;\r\n    this.#movesCounterModel = movesCounterModel;\r\n    this.#timerModel = timerModel;\r\n    this.#soundModel = soundModel;\r\n    this.#newGameHandler = newGameHandler;\r\n    this.#saveGameHandler = saveGameHandler;\r\n    this.#loadGameHandler = loadGameHandler;\r\n    this.#showResultsHandler = showResultsHandler;\r\n  }\r\n\r\n  init = () => {\r\n    this.#render();\r\n    this.#movesCounterModel.addObserver(this.#handleMoveCounterEvent);\r\n    this.#timerModel.addObserver(this.#handleTimerEvent);\r\n    this.#soundModel.addObserver(this.#handleSoundEvent);\r\n    this.#boardSizeModel.addObserver(this.#handleBoardSizeChangeEvent);\r\n  };\r\n\r\n  #render = () => {\r\n    this.#headerComponent = new HeaderView();\r\n    render(this.#headerContainer, this.#headerComponent);\r\n    this.#renderMoveCounter();\r\n    this.#renderTimer();\r\n    this.#renderNewGameBtn();\r\n    this.#renderSizeSelector();\r\n    this.#renderSaveBtn();\r\n    this.#renderLoadBtn();\r\n    this.#renderResultBtn();\r\n    this.#renderSoundBtn();\r\n  };\r\n\r\n  #renderNewGameBtn = () => {\r\n    this.#newGameBtnComponent = new NewGameBtnView();\r\n    this.#newGameBtnComponent.setNewGameBtnClickHandler(this.#newGameHandler);\r\n    render(\r\n      this.#headerComponent.getHeaderTopElement(),\r\n      this.#newGameBtnComponent,\r\n      RenderPosition.AFTERBEGIN\r\n    );\r\n  };\r\n\r\n  #renderSizeSelector = () => {\r\n    this.#sizeSelectorComponent = new SizeSelectorView(\r\n      this.#boardSizeModel.size\r\n    );\r\n\r\n    this.#sizeSelectorComponent.setSelectorChangeHandler(\r\n      (value) => (this.#boardSizeModel.size = value)\r\n    );\r\n\r\n    render(\r\n      this.#headerComponent.getHeaderTopElement(),\r\n      this.#sizeSelectorComponent\r\n    );\r\n  };\r\n\r\n  #renderSaveBtn = () => {\r\n    this.#saveBtnComponent = new SaveBtnView();\r\n    this.#saveBtnComponent.setSaveBtnClickHandler(this.#saveGameHandler);\r\n    render(this.#headerComponent.getHeaderTopElement(), this.#saveBtnComponent);\r\n  };\r\n\r\n  #renderLoadBtn = () => {\r\n    this.#loadBtnComponent = new LoadBtnView();\r\n    this.#loadBtnComponent.setLoadBtnClickHandler(this.#loadGameHandler);\r\n    render(this.#headerComponent.getHeaderTopElement(), this.#loadBtnComponent);\r\n  };\r\n\r\n  #renderResultBtn = () => {\r\n    this.#resultBtnComponent = new ResultBtnView();\r\n    this.#resultBtnComponent.setResultBtnClickHandler(this.#showResultsHandler);\r\n    render(\r\n      this.#headerComponent.getHeaderTopElement(),\r\n      this.#resultBtnComponent\r\n    );\r\n  };\r\n\r\n  #renderSoundBtn = () => {\r\n    const prevSoundBtnComponent = this.#soundBtnComponent;\r\n    this.#soundBtnComponent = new SoundBtnView(this.#soundModel.isSoundEnabled);\r\n    this.#soundBtnComponent.setSoundClickHandler(this.#toggleSound);\r\n\r\n    if (!prevSoundBtnComponent) {\r\n      render(\r\n        this.#headerComponent.getHeaderTopElement(),\r\n        this.#soundBtnComponent\r\n      );\r\n      return;\r\n    }\r\n\r\n    replace(this.#soundBtnComponent, prevSoundBtnComponent);\r\n    remove(prevSoundBtnComponent);\r\n  };\r\n\r\n  #renderMoveCounter = () => {\r\n    const prevMoveCounterComponent = this.#movesCounterComponent;\r\n    this.#movesCounterComponent = new MoveCounterView(\r\n      this.#movesCounterModel.moves\r\n    );\r\n\r\n    if (!prevMoveCounterComponent) {\r\n      render(\r\n        this.#headerComponent.getHeaderBottomElement(),\r\n        this.#movesCounterComponent,\r\n        RenderPosition.AFTERBEGIN\r\n      );\r\n      return;\r\n    }\r\n\r\n    replace(this.#movesCounterComponent, prevMoveCounterComponent);\r\n    remove(prevMoveCounterComponent);\r\n  };\r\n\r\n  #renderTimer = () => {\r\n    const prevTimerComponent = this.#timerComponent;\r\n    this.#timerComponent = new TimerView(this.#timerModel.time);\r\n\r\n    if (!prevTimerComponent) {\r\n      render(\r\n        this.#headerComponent.getHeaderBottomElement(),\r\n        this.#timerComponent\r\n      );\r\n      return;\r\n    }\r\n\r\n    replace(this.#timerComponent, prevTimerComponent);\r\n    remove(prevTimerComponent);\r\n  };\r\n\r\n  #handleMoveCounterEvent = () => {\r\n    this.#renderMoveCounter();\r\n  };\r\n\r\n  #handleTimerEvent = () => {\r\n    this.#renderTimer();\r\n  };\r\n\r\n  #handleSoundEvent = () => {\r\n    this.#renderSoundBtn();\r\n  };\r\n\r\n  #toggleSound = () => {\r\n    this.#soundModel.isSoundEnabled = !this.#soundModel.isSoundEnabled;\r\n  };\r\n\r\n  #handleBoardSizeChangeEvent = (value) => {\r\n    this.#sizeSelectorComponent.setSelectorValue(value);\r\n  };\r\n}\r\n\r\nexport default HeaderPresenter;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createPopupViewTemplate = () =>\r\n  `<div class=\"popup\">\r\n\t\t\t<div class=\"popup__overlay\"></div>\r\n\t\t\t<div class=\"popup__content\">\r\n\t\t\t\t<div class=\"popup__wrapper\"></div>\r\n\t\t\t\t<button class=\"popup__close-btn\"></button>\r\n\t\t\t</div>\r\n\t\t</div>`;\r\n\r\nclass PopupView extends AbstractView {\r\n  #isActive = false;\r\n\r\n  constructor() {\r\n    super();\r\n    this.#setPopupClickHandler();\r\n    this.#setPopupTransitionEndHandler();\r\n  }\r\n\r\n  get template() {\r\n    return createPopupViewTemplate();\r\n  }\r\n\r\n  getContentContainer = () => {\r\n    return this.element.querySelector('.popup__wrapper');\r\n  };\r\n\r\n  showPopup = () => {\r\n    document.documentElement.classList.add('popup-active');\r\n    this.#isActive = true;\r\n  };\r\n\r\n  #setPopupClickHandler = () => {\r\n    this.element.addEventListener('click', this.#popupClickHandler);\r\n  };\r\n\r\n  #setPopupTransitionEndHandler = () => {\r\n    this.element.addEventListener(\r\n      'transitionend',\r\n      this.#popupTransitionEndHandler\r\n    );\r\n  };\r\n\r\n  #popupClickHandler = (evt) => {\r\n    if (\r\n      evt.target.closest('.popup__overlay') ||\r\n      evt.target.closest('.popup__close-btn')\r\n    ) {\r\n      this.#closePopup();\r\n      return;\r\n    }\r\n  };\r\n\r\n  #popupTransitionEndHandler = (evt) => {\r\n    if (this.#isActive) return;\r\n    if (!evt.target.classList.contains('popup__overlay')) return;\r\n    if (this.getContentContainer().firstElementChild) {\r\n      this.getContentContainer().firstElementChild.remove();\r\n    }\r\n  };\r\n\r\n  #closePopup = () => {\r\n    document.documentElement.classList.remove('popup-active');\r\n    this.#isActive = false;\r\n  };\r\n}\r\n\r\nexport default PopupView;\r\n","import { formatTime } from '../utils/common.js';\r\nimport AbstractView from './abstract-view.js';\r\n\r\nconst getWinMessage = (moves, time) =>\r\n  `Hooray! You solved the puzzle in ${formatTime(\r\n    time\r\n  )} and ${moves}&nbsp;moves!`;\r\n\r\nconst createPopupViewTemplate = (message) =>\r\n  `<div class=\"win-message\">${message}</div>`;\r\n\r\nclass WinMessageView extends AbstractView {\r\n  #message = null;\r\n\r\n  constructor(moves, time) {\r\n    super();\r\n    this.#message = getWinMessage(moves, time);\r\n  }\r\n\r\n  get template() {\r\n    return createPopupViewTemplate(this.#message);\r\n  }\r\n}\r\n\r\nexport default WinMessageView;\r\n","import { formatTime } from '../utils/common.js';\r\nimport AbstractView from './abstract-view.js';\r\n\r\nconst createTableRowTemplate = (number, time, moves) =>\r\n  `<div class=\"table-results__row\">\r\n\t\t<div class=\"table-results__number\">${number}</div>\r\n\t\t<div class=\"table-results__time\">Time: <span>${formatTime(time)}</span></div>\r\n\t\t<div class=\"table-results__moves\">Moves: <span>${moves}</span></div>\r\n\t</div>`;\r\n\r\nconst createResultTemplate = (boardSize, resultsData) => {\r\n  const tableRows = resultsData\r\n    .map(({ time, moves }, i) => createTableRowTemplate(i + 1, time, moves))\r\n    .join('');\r\n\r\n  let message = '';\r\n\r\n  if (resultsData.length === 0) {\r\n    message = `There are no results for the ${boardSize}x${boardSize} field yet`;\r\n  } else {\r\n    message = `Best results for the ${boardSize}x${boardSize} field`;\r\n  }\r\n\r\n  return `<div class=\"results\">\r\n      <h2 class=\"results__title\">Results</h2>\r\n      <h3 class=\"results__subtitle\">${message}</h3>\r\n      <div class=\"results__table table-results\">${tableRows}</div>\r\n    </div>`;\r\n};\r\n\r\nclass ResultsView extends AbstractView {\r\n  #boardSize = null;\r\n  #resultsData = null;\r\n\r\n  constructor(boardSize, resultsData) {\r\n    super();\r\n    this.#boardSize = boardSize;\r\n    this.#resultsData = resultsData;\r\n  }\r\n\r\n  get template() {\r\n    return createResultTemplate(this.#boardSize, this.#resultsData);\r\n  }\r\n}\r\n\r\nexport default ResultsView;\r\n","import PopupView from '../view/popup-view.js';\r\nimport WinMessageView from '../view/win-message-view.js';\r\nimport ResultsView from '../view/results-view.js';\r\nimport { remove, render } from '../utils/render.js';\r\n\r\nclass PopupPresenter {\r\n  #popupContainer = null;\r\n  #popupComponent = null;\r\n  #winMessageComponent = null;\r\n  #resultsComponent = null;\r\n\r\n  constructor(popupContainer) {\r\n    this.#popupContainer = popupContainer;\r\n  }\r\n\r\n  renderPopup() {\r\n    if (!this.#popupComponent) {\r\n      this.#popupComponent = new PopupView();\r\n      render(this.#popupContainer, this.#popupComponent);\r\n    }\r\n  }\r\n\r\n  showWinMessage = (moves, time) => {\r\n    this.renderPopup();\r\n    this.#winMessageComponent = new WinMessageView(moves, time);\r\n    render(\r\n      this.#popupComponent.getContentContainer(),\r\n      this.#winMessageComponent\r\n    );\r\n    this.#popupComponent.showPopup();\r\n  };\r\n\r\n  showResults = (boardSize, resultsData) => {\r\n    this.renderPopup();\r\n    this.#resultsComponent = new ResultsView(boardSize, resultsData);\r\n    render(this.#popupComponent.getContentContainer(), this.#resultsComponent);\r\n    this.#popupComponent.showPopup();\r\n  };\r\n}\r\n\r\nexport default PopupPresenter;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createBoardTemplate = () =>\r\n  `<div class=\"board\">\r\n\t</div>`;\r\n\r\nclass BoardView extends AbstractView {\r\n  #size = 3;\r\n  #cellSize = 20;\r\n  #fontSize = 7.5;\r\n  #gap = 2;\r\n\r\n  constructor(size = 3) {\r\n    super();\r\n    this.#size = size;\r\n    this.size = this.#size;\r\n  }\r\n\r\n  get template() {\r\n    return createBoardTemplate();\r\n  }\r\n\r\n  set size(value) {\r\n    this.#size = value;\r\n    this.element.style.setProperty('--grid-size', value);\r\n    this.#setCellSize();\r\n    this.#setFontSize();\r\n    this.#setGap();\r\n  }\r\n\r\n  #setCellSize = () => {\r\n    this.#cellSize = 76 / this.#size;\r\n    this.element.style.setProperty('--cell-size', `${this.#cellSize}vmin`);\r\n  };\r\n\r\n  #setFontSize = () => {\r\n    this.#fontSize = 22.5 / this.#size;\r\n    this.element.style.setProperty('--font-size', `${this.#fontSize}vmin`);\r\n  };\r\n\r\n  #setGap = () => {\r\n    this.#gap = 6 / this.#size;\r\n    this.element.style.setProperty('--cell-gap', `${this.#gap}vmin`);\r\n  };\r\n}\r\n\r\nexport default BoardView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createBoardCellTemplate = () => `<div class=\"board__cell\"></div>`;\r\n\r\nclass BoardCellView extends AbstractView {\r\n  constructor() {\r\n    super();\r\n    this.#setCellDragOverHandler();\r\n  }\r\n\r\n  get template() {\r\n    return createBoardCellTemplate();\r\n  }\r\n\r\n  #setCellDragOverHandler = () => {\r\n    this.element.addEventListener('dragover', this.#cellDragOverHandler);\r\n  };\r\n\r\n  #cellDragOverHandler = (evt) => {\r\n    evt.preventDefault();\r\n  };\r\n\r\n  setCellDropHandler = (callback) => {\r\n    this._callback.cellDrop = callback;\r\n    this.element.addEventListener('drop', this.#cellDropHandler);\r\n  };\r\n\r\n  #cellDropHandler = (evt) => {\r\n    if (!evt.dataTransfer.getData('tile')) return;\r\n    const data = JSON.parse(evt.dataTransfer.getData('tile'));\r\n    this._callback.cellDrop(data);\r\n  };\r\n}\r\n\r\nexport default BoardCellView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createBoardTileTemplate = (number) =>\r\n  `<div class=\"board__tile\" draggable=\"true\">\r\n    ${number}\r\n\t</div>`;\r\n\r\nclass BoardTileView extends AbstractView {\r\n  #number;\r\n  #x;\r\n  #y;\r\n\r\n  constructor(number, x, y) {\r\n    super();\r\n    this.#number = number;\r\n    this.x = x;\r\n    this.y = y;\r\n\r\n    this.#setTileDragStartHandler();\r\n  }\r\n\r\n  get template() {\r\n    return createBoardTileTemplate(this.#number);\r\n  }\r\n\r\n  get number() {\r\n    return this.#number;\r\n  }\r\n\r\n  set x(value) {\r\n    this.#x = value;\r\n    this.element.style.setProperty('--x', value);\r\n  }\r\n\r\n  set y(value) {\r\n    this.#y = value;\r\n    this.element.style.setProperty('--y', value);\r\n  }\r\n\r\n  changePosition = ({ x, y }) => {\r\n    this.x = x;\r\n    this.y = y;\r\n  };\r\n\r\n  setTileClickHandler = (callback) => {\r\n    this._callback.tileClick = callback;\r\n    this.element.addEventListener('click', this.#tileClickHandler);\r\n  };\r\n\r\n  #tileClickHandler = (evt) => {\r\n    this._callback.tileClick({\r\n      number: this.#number,\r\n      x: this.#x,\r\n      y: this.#y,\r\n    });\r\n  };\r\n\r\n  #setTileDragStartHandler = () => {\r\n    this.element.addEventListener('dragstart', this.#tileDragStartHandler);\r\n  };\r\n\r\n  #tileDragStartHandler = (evt) => {\r\n    const data = JSON.stringify({\r\n      number: this.#number,\r\n      x: this.#x,\r\n      y: this.#y,\r\n    });\r\n\r\n    evt.dataTransfer.setData('tile', data);\r\n  };\r\n}\r\n\r\nexport default BoardTileView;\r\n","import AbstractView from './abstract-view.js';\r\n\r\nconst createSoundViewTemplate = () =>\r\n  `<div>\r\n\t\t<audio data-move-sound src=\"./assets//sound/move-tile.mp3\"></audio>\r\n\t\t<audio data-victory-sound src=\"./assets//sound/victory.mp3\"></audio>\r\n\t</div>`;\r\n\r\nclass SoundView extends AbstractView {\r\n  #moveSound = null;\r\n  #victorySound = null;\r\n\r\n  constructor() {\r\n    super();\r\n    this.#moveSound = this.element.querySelector('audio[data-move-sound]');\r\n    this.#victorySound = this.element.querySelector(\r\n      'audio[data-victory-sound]'\r\n    );\r\n    this.#victorySound.volume = 0.3;\r\n  }\r\n\r\n  get template() {\r\n    return createSoundViewTemplate();\r\n  }\r\n\r\n  playMoveSound = () => {\r\n    this.#moveSound.currentTime = 0;\r\n    this.#moveSound.play();\r\n  };\r\n\r\n  playVictorySound = () => {\r\n    this.#victorySound.currentTime = 0;\r\n    this.#victorySound.play();\r\n  };\r\n}\r\n\r\nexport default SoundView;\r\n","import { SAVE_KEY, RESULTS_KEY } from '../const.js';\r\n\r\nexport const createGameMatrix = (size) => {\r\n  const arr = [];\r\n  let number = 0;\r\n  for (let y = 0; y < size; y++) {\r\n    for (let x = 0; x < size; x++) {\r\n      number++;\r\n      arr.push({ number, x, y });\r\n    }\r\n  }\r\n\r\n  arr[arr.length - 1].number = 0;\r\n\r\n  return arr;\r\n};\r\n\r\nexport const shuffleGameMatrix = (array) => {\r\n  const copyArr = JSON.parse(JSON.stringify(array));\r\n\r\n  for (let i = 0; i < array.length ** 3; i++) {\r\n    randomMove(copyArr);\r\n  }\r\n\r\n  return copyArr;\r\n};\r\n\r\nexport const canIMoveTile = (pos1, pos2) => {\r\n  const diffX = Math.abs(pos1.x - pos2.x);\r\n  const diffY = Math.abs(pos1.y - pos2.y);\r\n\r\n  return (diffX === 1 || diffY === 1) && (pos1.x === pos2.x || pos1.y === pos2.y);\r\n};\r\n\r\nexport const findEmptyCell = (array) => {\r\n  const emptyCell = array.find(({ number }) => number === 0);\r\n  return emptyCell;\r\n};\r\n\r\nconst findValidMoves = (pos, size) => {\r\n  const positions = [];\r\n\r\n  for (let y = 0; y < size; y++) {\r\n    for (let x = 0; x < size; x++) {\r\n      if (canIMoveTile({ x, y }, pos)) {\r\n        positions.push({ x, y });\r\n      }\r\n    }\r\n  }\r\n\r\n  return positions;\r\n};\r\n\r\nconst randomMove = (array) => {\r\n  const emptyCell = findEmptyCell(array);\r\n  const size = Math.sqrt(array.length);\r\n\r\n  const emptyCellPos = {\r\n    x: emptyCell.x,\r\n    y: emptyCell.y,\r\n  };\r\n\r\n  const validMovePositions = findValidMoves(emptyCellPos, size);\r\n  const randomInd = Math.floor(Math.random() * validMovePositions.length);\r\n\r\n  swapTile(validMovePositions[randomInd], emptyCellPos, array);\r\n};\r\n\r\nexport const swapTile = (pos1, pos2, array) => {\r\n  const tile1 = array.find((it) => it.x === pos1.x && it.y === pos1.y);\r\n  const tile2 = array.find((it) => it.x === pos2.x && it.y === pos2.y);\r\n\r\n  const tempPos = { x: tile1.x, y: tile1.y };\r\n\r\n  tile1.x = tile2.x;\r\n  tile1.y = tile2.y;\r\n\r\n  tile2.x = tempPos.x;\r\n  tile2.y = tempPos.y;\r\n};\r\n\r\nexport const saveDataGame = (gameState, boardSize, time, moves) => {\r\n  const savingData = {\r\n    gameState,\r\n    boardSize,\r\n    time,\r\n    moves,\r\n  };\r\n\r\n  localStorage.setItem(SAVE_KEY, JSON.stringify(savingData));\r\n};\r\n\r\nexport const loadDataGame = () => JSON.parse(localStorage.getItem(SAVE_KEY) || 'null');\r\n\r\nexport const sortBestResults = (results) => {\r\n  return results\r\n    .sort((a, b) => {\r\n      if (a.time === b.time) {\r\n        return a.moves - b.moves;\r\n      }\r\n      return a.time - b.time;\r\n    })\r\n    .slice(0, 10);\r\n};\r\n\r\nexport const getResultsByBoard = (currentBoardSize, resultsData) => {\r\n  return resultsData[currentBoardSize] || [];\r\n};\r\n\r\nexport const loadResults = () => JSON.parse(localStorage.getItem(RESULTS_KEY) || '{}');\r\n\r\nexport const saveResults = (board, time, moves) => {\r\n  let results = loadResults();\r\n  let boardResults = getResultsByBoard(board, results);\r\n  boardResults.push({ time, moves });\r\n  boardResults = sortBestResults(boardResults);\r\n\r\n  results[board] = boardResults;\r\n\r\n  localStorage.setItem(RESULTS_KEY, JSON.stringify(results));\r\n};\r\n","import HeaderPresenter from './header-presenter.js';\r\nimport PopupPresenter from './popup-presenter.js';\r\nimport BoardView from '../view/board-view.js';\r\nimport BoardCellView from '../view/board-cell-view.js';\r\nimport BoardTileView from '../view/board-tile-view.js';\r\nimport SoundView from '../view/sound-view.js';\r\nimport {\r\n  createGameMatrix,\r\n  shuffleGameMatrix,\r\n  swapTile,\r\n  canIMoveTile,\r\n  findEmptyCell,\r\n  saveDataGame,\r\n  loadDataGame,\r\n  saveResults,\r\n  loadResults,\r\n  getResultsByBoard,\r\n} from '../utils/game.js';\r\nimport { remove, render } from '../utils/render.js';\r\n\r\nclass GamePresenter {\r\n  #gameContainer = null;\r\n  #headerPresenter = null;\r\n\r\n  #boardComponent = null;\r\n  #boardSizeModel = null;\r\n\r\n  #gameState = null;\r\n  #tiles = [];\r\n  #cells = [];\r\n  #isGameLoading = false;\r\n\r\n  #soundModel = null;\r\n  #soundComponent = null;\r\n\r\n  #winCombination = null;\r\n\r\n  #movesCounterModel = null;\r\n  #timerModel = null;\r\n\r\n  #moves = 0;\r\n  #isGameEnd = true;\r\n\r\n  #popupPresenter = null;\r\n\r\n  constructor(gameContainer, boardSizeModel, movesCounterModel, timerModel, soundModel) {\r\n    this.#gameContainer = gameContainer;\r\n    this.#boardSizeModel = boardSizeModel;\r\n    this.#movesCounterModel = movesCounterModel;\r\n    this.#timerModel = timerModel;\r\n    this.#soundModel = soundModel;\r\n  }\r\n\r\n  init = () => {\r\n    this.#moves = this.#movesCounterModel.moves;\r\n    this.#renderHeader();\r\n    this.#initGameState();\r\n    this.#renderBoard();\r\n    this.#renderTiles();\r\n    this.#renderSound();\r\n    this.#popupPresenter = new PopupPresenter(this.#gameContainer);\r\n\r\n    this.#boardSizeModel.addObserver(this.#handleBoardSizeEvent);\r\n  };\r\n\r\n  #initGameState = () => {\r\n    let tempState = createGameMatrix(this.#boardSizeModel.size);\r\n    this.#winCombination = tempState;\r\n    tempState = shuffleGameMatrix(tempState);\r\n\r\n    this.#gameState = tempState;\r\n  };\r\n\r\n  #newGame = () => {\r\n    this.#movesCounterModel.moves = 0;\r\n    this.#moves = 0;\r\n    this.#timerModel.resetTimer();\r\n\r\n    this.#removeBoard();\r\n    this.#removeTiles();\r\n\r\n    this.#renderBoard();\r\n    this.#initGameState();\r\n    this.#renderTiles();\r\n  };\r\n\r\n  #renderHeader = () => {\r\n    this.#headerPresenter = new HeaderPresenter(\r\n      this.#gameContainer,\r\n      this.#boardSizeModel,\r\n      this.#movesCounterModel,\r\n      this.#timerModel,\r\n      this.#soundModel,\r\n      this.#newGame,\r\n      this.#saveGame,\r\n      this.#loadGame,\r\n      this.#showResults,\r\n    );\r\n    this.#headerPresenter.init();\r\n  };\r\n\r\n  #renderBoard = () => {\r\n    this.#boardComponent = new BoardView(this.#boardSizeModel.size);\r\n    render(this.#gameContainer, this.#boardComponent);\r\n\r\n    for (let i = 0; i < this.#boardSizeModel.size ** 2; i++) {\r\n      const cell = new BoardCellView();\r\n      cell.setCellDropHandler(this.#handleTileMove);\r\n      this.#cells.push(cell);\r\n      render(this.#boardComponent, cell);\r\n    }\r\n\r\n    this.#timerModel.startTimer();\r\n  };\r\n\r\n  #removeBoard = () => {\r\n    remove(this.#boardComponent);\r\n    this.#boardComponent = null;\r\n    this.#cells = [];\r\n  };\r\n\r\n  #renderTiles = () => {\r\n    for (const it of this.#gameState) {\r\n      const { number, x, y } = it;\r\n      if (number === 0) continue;\r\n      const tile = new BoardTileView(number, x, y);\r\n      tile.setTileClickHandler(this.#handleTileMove);\r\n      render(this.#boardComponent, tile);\r\n      this.#tiles.push(tile);\r\n    }\r\n\r\n    this.#isGameEnd = false;\r\n  };\r\n\r\n  #removeTiles = () => {\r\n    for (const tiles of this.#tiles) {\r\n      remove(tiles);\r\n    }\r\n    this.#tiles = [];\r\n  };\r\n\r\n  #renderSound = () => {\r\n    this.#soundComponent = new SoundView();\r\n    render(this.#gameContainer, this.#soundComponent);\r\n  };\r\n\r\n  #handleTileMove = (tileData) => {\r\n    if (this.#isGameEnd) return;\r\n\r\n    let emptyCell = findEmptyCell(this.#gameState);\r\n\r\n    const tilePosition = { x: tileData.x, y: tileData.y };\r\n    const emptyCellPosition = { x: emptyCell.x, y: emptyCell.y };\r\n\r\n    if (!canIMoveTile(tilePosition, emptyCellPosition)) return;\r\n\r\n    const tileComponent = this.#tiles.find((tile) => tile.number === tileData.number);\r\n    tileComponent.changePosition(emptyCellPosition);\r\n    swapTile(tilePosition, emptyCellPosition, this.#gameState);\r\n    this.#moves++;\r\n    this.#movesCounterModel.moves = this.#moves;\r\n    this.#soundModel.isSoundEnabled && this.#soundComponent.playMoveSound();\r\n\r\n    if (this.#isWin()) {\r\n      this.#timerModel.stopTimer();\r\n      this.#isGameEnd = true;\r\n      this.#soundModel.isSoundEnabled && this.#soundComponent.playVictorySound();\r\n      this.#popupPresenter.showWinMessage(this.#moves, this.#timerModel.time);\r\n      saveResults(this.#boardSizeModel.size, this.#timerModel.time, this.#moves);\r\n    }\r\n  };\r\n\r\n  #isWin = () => JSON.stringify(this.#gameState) === JSON.stringify(this.#winCombination);\r\n\r\n  #saveGame = () => {\r\n    if (this.#isGameEnd) return;\r\n\r\n    saveDataGame(this.#gameState, this.#boardSizeModel.size, this.#timerModel.time, this.#moves);\r\n  };\r\n\r\n  #loadGame = () => {\r\n    const dataGame = loadDataGame();\r\n    if (dataGame === null) return;\r\n\r\n    this.#isGameLoading = true;\r\n\r\n    const { gameState, boardSize, time, moves } = dataGame;\r\n\r\n    this.#gameState = gameState;\r\n    this.#movesCounterModel.moves = moves;\r\n    this.#moves = moves;\r\n    this.#boardSizeModel.size = boardSize;\r\n    this.#timerModel.stopTimer();\r\n    this.#timerModel.time = time;\r\n\r\n    this.#removeBoard();\r\n    this.#removeTiles();\r\n\r\n    this.#renderBoard();\r\n    this.#renderTiles();\r\n\r\n    this.#winCombination = createGameMatrix(this.#boardSizeModel.size);\r\n\r\n    this.#isGameLoading = false;\r\n  };\r\n\r\n  #showResults = () => {\r\n    let resultsData = loadResults();\r\n    resultsData = getResultsByBoard(this.#boardSizeModel.size, resultsData);\r\n    this.#popupPresenter.showResults(this.#boardSizeModel.size, resultsData);\r\n  };\r\n\r\n  #handleBoardSizeEvent = () => {\r\n    if (this.#isGameLoading) return;\r\n    this.#newGame();\r\n  };\r\n}\r\n\r\nexport default GamePresenter;\r\n","class AbstractObservable {\r\n  #observers = new Set();\r\n\r\n  addObserver = (observer) => {\r\n    this.#observers.add(observer);\r\n  };\r\n\r\n  removeObserver = (observer) => {\r\n    this.#observers.delete(observer);\r\n  };\r\n\r\n  _notify = (payload) => {\r\n    this.#observers.forEach((observer) => {\r\n      observer(payload);\r\n    });\r\n  };\r\n}\r\n\r\nexport default AbstractObservable;\r\n","import AbstractObservable from './abstract-observable.js';\r\n\r\nclass BoardSizeModel extends AbstractObservable {\r\n  #size = 4;\r\n\r\n  get size() {\r\n    return this.#size;\r\n  }\r\n\r\n  set size(value) {\r\n    this.#size = Number(value);\r\n    this._notify(this.#size);\r\n  }\r\n}\r\n\r\nexport default BoardSizeModel;\r\n","import AbstractObservable from './abstract-observable.js';\r\n\r\nclass MovesCounterModel extends AbstractObservable {\r\n  #moves = 0;\r\n\r\n  get moves() {\r\n    return this.#moves;\r\n  }\r\n\r\n  set moves(value) {\r\n    this.#moves = value;\r\n    this._notify(value);\r\n  }\r\n}\r\n\r\nexport default MovesCounterModel;\r\n","import AbstractObservable from './abstract-observable.js';\r\n\r\nclass TimerModel extends AbstractObservable {\r\n  #time = 0;\r\n  #timerId = null;\r\n\r\n  get time() {\r\n    return this.#time;\r\n  }\r\n\r\n  set time(value) {\r\n    this.#time = value;\r\n    this._notify(value);\r\n  }\r\n\r\n  startTimer = () => {\r\n    this.#timerId = setInterval(() => {\r\n      this.time = this.#time + 1;\r\n    }, 1000);\r\n  };\r\n\r\n  stopTimer = () => {\r\n    clearInterval(this.#timerId);\r\n    this.#timerId = null;\r\n  };\r\n\r\n  resetTimer = () => {\r\n    this.stopTimer();\r\n    this.time = 0;\r\n  };\r\n}\r\n\r\nexport default TimerModel;\r\n","import AbstractObservable from './abstract-observable.js';\r\n\r\nclass SoundModel extends AbstractObservable {\r\n  #isSoundEnabled = true;\r\n\r\n  get isSoundEnabled() {\r\n    return this.#isSoundEnabled;\r\n  }\r\n\r\n  set isSoundEnabled(value) {\r\n    this.#isSoundEnabled = value;\r\n    this._notify(value);\r\n  }\r\n}\r\n\r\nexport default SoundModel;\r\n","import GamePresenter from './presenter/game-presenter.js';\r\nimport BoardSizeModel from './model/board-size-model.js';\r\nimport MovesCounterModel from './model/moves-counter-model.js';\r\nimport TimerModel from './model/timer-model.js';\r\nimport SoundModel from './model/sound-model.js';\r\nimport { createElement, render } from './utils/render.js';\r\nimport './scss/style.scss';\r\n\r\nconst body = document.querySelector('body');\r\n\r\nconst createRootTemplate = () => '<div id=\"root\"></div>';\r\nconst root = createElement(createRootTemplate);\r\n\r\nrender(body, root);\r\n\r\nconst boardSizeModel = new BoardSizeModel();\r\nconst moveCounterModel = new MovesCounterModel();\r\nconst timerModel = new TimerModel();\r\nconst soundModel = new SoundModel();\r\n\r\nconst game = new GamePresenter(root, boardSizeModel, moveCounterModel, timerModel, soundModel);\r\ngame.init();\r\n"],"names":["RenderPosition","SAVE_KEY","RESULTS_KEY","render","container","element","place","parent","AbstractView","child","before","prepend","append","after","replace","newElement","oldElement","Error","newChild","oldChild","parentElement","replaceChild","createElement","template","document","innerHTML","firstElementChild","remove","component","removeElement","constructor","this","querySelector","callback","_callback","btnClick","addEventListener","evt","value","super","selectorChange","currentTarget","setSelectorValue","isSoundEnabled","formatTime","number","Math","floor","toString","padStart","documentElement","classList","add","target","closest","contains","getContentContainer","moves","time","getWinMessage","boardSize","resultsData","tableRows","map","i","createTableRowTemplate","join","message","length","createResultTemplate","size","style","setProperty","preventDefault","cellDrop","dataTransfer","getData","data","JSON","parse","x","y","tileClick","stringify","setData","currentTime","play","volume","createGameMatrix","arr","push","canIMoveTile","pos1","pos2","diffX","abs","diffY","findEmptyCell","array","find","randomMove","emptyCell","sqrt","emptyCellPos","validMovePositions","pos","positions","findValidMoves","randomInd","random","swapTile","tile1","it","tile2","tempPos","getResultsByBoard","currentBoardSize","loadResults","localStorage","getItem","Set","observer","delete","payload","forEach","body","root","gameContainer","boardSizeModel","movesCounterModel","timerModel","soundModel","popupContainer","renderPopup","WinMessageView","showPopup","ResultsView","PopupView","addObserver","tempState","copyArr","shuffleGameMatrix","resetTimer","headerContainer","newGameHandler","saveGameHandler","loadGameHandler","showResultsHandler","HeaderView","NewGameBtnView","setNewGameBtnClickHandler","getHeaderTopElement","SizeSelectorView","setSelectorChangeHandler","SaveBtnView","setSaveBtnClickHandler","LoadBtnView","setLoadBtnClickHandler","ResultBtnView","setResultBtnClickHandler","prevSoundBtnComponent","SoundBtnView","setSoundClickHandler","prevMoveCounterComponent","MoveCounterView","getHeaderBottomElement","prevTimerComponent","TimerView","init","BoardView","cell","BoardCellView","setCellDropHandler","startTimer","tile","BoardTileView","setTileClickHandler","tiles","SoundView","tileData","tilePosition","emptyCellPosition","changePosition","playMoveSound","stopTimer","playVictorySound","showWinMessage","board","results","boardResults","sort","a","b","slice","sortBestResults","setItem","saveResults","gameState","savingData","saveDataGame","dataGame","showResults","AbstractObservable","Number","_notify","setInterval","clearInterval"],"sourceRoot":""}